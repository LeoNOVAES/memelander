if(SwiftypeComponents.issetRecursive=function(obj,prop){for(var parts=prop.split("."),l=parts.length,i=0;i<l;i++){var part=parts[i];if(!(null!==obj&&"object"==typeof obj&&part in obj))return!1;obj=obj[part]}return!0},SwiftypeComponents.config={small_search_form:{placeholder:SwiftypeConfigs.trans.search,button_label:SwiftypeConfigs.trans.search_button,input_field_id:"small_search_form",onsubmit:[{type:"clear_all"},{type:"add_param",data:{field:"q"},update_results:!0,reset_pagination:!0}],redirect_to:{path:SwiftypeConfigs.redirect_to+"#?",parameters:[{urlKey:"q",argumentKey:"q"}]},autocomplete:{min_characters:3,sections:[]}},menu_search_form:{placeholder:SwiftypeConfigs.trans.search,button_label:SwiftypeConfigs.trans.search_button,input_field_id:"menu_search_form",onsubmit:[{type:"clear_all"},{type:"add_param",data:{field:"q"},update_results:!0,reset_pagination:!0}],redirect_to:{path:SwiftypeConfigs.redirect_to+"#?",parameters:[{urlKey:"q",argumentKey:"q"}]},autocomplete:{min_characters:3,sections:[]}},search_form:{placeholder:SwiftypeConfigs.trans.search,button_label:SwiftypeConfigs.trans.search_button,onsubmit:[{type:"clear_all"},{type:"add_param",data:{field:"q"},update_results:!0,reset_pagination:!0}],redirect_to:{path:SwiftypeConfigs.redirect_to+"#?",parameters:[{urlKey:"q",argumentKey:"q"}]},autocomplete:{min_characters:3,sections:[]}},misspelling:{store_name:"search"},routing:{onload:function(params){return[{type:"add_param",data:{field:"q",value:params.q},update_results:!0}]}},sort:{sortables:[{label:SwiftypeConfigs.trans.reference,value:"_score desc"},{label:SwiftypeConfigs.trans.pub_date_new,value:"published_at desc"},{label:SwiftypeConfigs.trans.pub_date_old,value:"published_at asc"},{label:SwiftypeConfigs.trans.most_commented,value:"comment_count desc"}],default:(SwiftypeConfigs.sort_field||"published_at")+" "+(SwiftypeConfigs.sort_direction||"desc")},total:{separator:","},content_type_facet:{title:SwiftypeConfigs.trans.content_type,clear_link:SwiftypeConfigs.trans.clear,field:"content_type",limit:7,disable_checkbox:!0,sort_by:["count","name"],sort_by_direction:[!1,!0]},topics_facet:{title:SwiftypeConfigs.trans.topics,and_clause:!0,clear_link:SwiftypeConfigs.trans.clear,field:"topics",limit:SwiftypeComponents.issetRecursive(SwiftypeConfigs,"date_filters.topics_facet:checkbox-facet.limit")?SwiftypeConfigs.date_filters["topics_facet:checkbox-facet"].limit:7,disable_checkbox:!0,sort_by:["count","name"],sort_by_direction:[!1,!0],filter:function(item){var facet_name="topics_facet:checkbox-facet",item=item.name;return SwiftypeComponents.issetRecursive(SwiftypeConfigs,"date_filters."+facet_name)&&(item=SwiftypeComponents.config.filter_allowed_facet_items(item,facet_name),item=SwiftypeComponents.config.filter_disallowed_facet_items(item,facet_name)),item}},tags_facet:{title:SwiftypeConfigs.trans.tags,clear_link:SwiftypeConfigs.trans.clear,field:"tags",limit:SwiftypeComponents.issetRecursive(SwiftypeConfigs,"date_filters.tags_facet:checkbox-facet.limit")?SwiftypeConfigs.date_filters["tags_facet:checkbox-facet"].limit:7,disable_checkbox:!0,sort_by:["count","name"],sort_by_direction:[!1,!0],filter:function(item){var facet_name="tags_facet:checkbox-facet",item=item.name;return SwiftypeComponents.issetRecursive(SwiftypeConfigs,"date_filters."+facet_name)&&(item=SwiftypeComponents.config.filter_allowed_facet_items(item,facet_name),item=SwiftypeComponents.config.filter_disallowed_facet_items(item,facet_name)),item}},author_facet:{title:SwiftypeConfigs.author,and_clause:!0,clear_link:SwiftypeConfigs.trans.clear,field:"author",limit:7,disable_checkbox:!0,sort_by:["count","name"],sort_by_direction:[!1,!0]},appeared_in_facet:{title:SwiftypeConfigs.appeared_in_print,clear_link:SwiftypeConfigs.trans.clear,field:"appeared_in_print",limit:7,disable_checkbox:!0,filter:function(result){return"Yes"===result.name},sort_by:["count","name"],sort_by_direction:[!1,!0]},date_options:{default_option:SwiftypeComponents.issetRecursive(SwiftypeConfigs,"date_filters.date_options:radio-options.default_option")?SwiftypeConfigs.date_filters["date_options:radio-options"].default_option:0,options:[{label:SwiftypeConfigs.trans.all,actions:[{type:"add_filter_range",data:{field:"published_at",from:function(){var date=new Date;return date.setDate(date.getDate()-99999999),date.toISOString()},to:function(){return(new Date).toISOString()}},update_results:!0,reset_pagination:!0}]},{label:SwiftypeConfigs.trans.twentyfour_hours,actions:[{type:"add_filter_range",data:{field:"published_at",from:function(){var date=new Date;return date.setDate(date.getDate()-1),date.toISOString()},to:function(){return(new Date).toISOString()}},update_results:!0,reset_pagination:!0}]},{label:SwiftypeConfigs.trans.seven_days,actions:[{type:"add_filter_range",data:{field:"published_at",from:function(){var date=new Date;return date.setDate(date.getDate()-7),date.toISOString()},to:function(){return(new Date).toISOString()}},update_results:!0,reset_pagination:!0}]},{label:SwiftypeConfigs.trans.thirty_days,actions:[{type:"add_filter_range",data:{field:"published_at",from:function(){var date=new Date;return date.setDate(date.getDate()-30),date.toISOString()},to:function(){return(new Date).toISOString()}},update_results:!0,reset_pagination:!0}]},{label:SwiftypeConfigs.trans.twelve_months,actions:[{type:"add_filter_range",data:{field:"published_at",from:function(){var date=new Date;return date.setDate(date.getDate()-365),date.toISOString()},to:function(){return(new Date).toISOString()}},update_results:!0,reset_pagination:!0}]}]},pagination:{inner_window:2},result:{wrapper_class_name:"block-group",result_class:"result block",template_id:"result"},store_names:["search","autocomplete"],defaults:{store_name:"search"},conditional:{store_names:"search"},store_parameters:{defaults:{apiURL:"https://api.swiftype.com/api/v1/public/engines/search.json",engine_key:SwiftypeConfigs.engine_key,page:1,document_type:"page",q:"",per_page:10,spelling:"strict",sort_direction:{page:SwiftypeConfigs.sort_direction||"desc"},sort_field:{page:SwiftypeConfigs.sort_field||"published_at"}},autocomplete:{apiURL:"https://api.swiftype.com/api/v1/public/engines/suggest.json",per_page:5}},filter_allowed_facet_items:function(item_name,facet_name){return item_name=""!==item_name&&""!==facet_name&&SwiftypeComponents.issetRecursive(SwiftypeConfigs,"date_filters."+facet_name+".allowed_items")&&0<SwiftypeConfigs.date_filters[facet_name].allowed_items.length&&-1===SwiftypeConfigs.date_filters[facet_name].allowed_items.indexOf(item_name)?!1:item_name},filter_disallowed_facet_items:function(item_name,facet_name){return item_name=""!==item_name&&""!==facet_name&&SwiftypeComponents.issetRecursive(SwiftypeConfigs,"date_filters."+facet_name+".disallowed_items")&&0<SwiftypeConfigs.date_filters[facet_name].disallowed_items.length&&-1!==SwiftypeConfigs.date_filters[facet_name].disallowed_items.indexOf(item_name)?!1:item_name}},"1"===SwiftypeConfigs.specific_dates&&"object"==typeof SwiftypeComponents.config.date_options.options&&SwiftypeComponents.config.date_options.options.push({label:SwiftypeConfigs.trans.specific_dates,actions:[{type:"add_filter_range",data:{field:"published_at",from:function(){function toggleClass(){jQuery("#swiftype-to").val()&&jQuery("#swiftype-from").val()?jQuery("#specific-dates-submit").addClass("valid"):jQuery("#specific-dates-submit").removeClass("valid")}function getDate(element){var date;try{date=jQuery.datepicker.parseDate("yy-mm-dd",element.value)}catch(error){date=null}return date}var from,to;if(jQuery("#specific_dates").length||(jQuery("<div/>",{id:"specific_dates",html:"<div id='border-cut'></div><span><label for='swiftype-from'>"+SwiftypeConfigs.from_str+"</label><input type='text' id='swiftype-from' name='swiftype-from'></span><span><label for='swiftype-to'>"+SwiftypeConfigs.to_str+"</label><input type='text' id='swiftype-to' name='swiftype-to'></span><a id='specific-dates-submit'>"+SwiftypeConfigs.refine_search_str+"</a>"}).appendTo("#date_options").slideDown("fast"),from=jQuery("#swiftype-from").datepicker({changeMonth:!0,defaultDate:"-1w",numberOfMonths:2}).on("change",function(){to.datepicker("option","minDate",getDate(this)),toggleClass()}),to=jQuery("#swiftype-to").datepicker({changeMonth:!0,defaultDate:null,numberOfMonths:2}).on("change",function(){from.datepicker("option","maxDate",getDate(this)),toggleClass()}),jQuery("#specific-dates-submit").on("click",function(){jQuery(this).hasClass("valid")&&(jQuery("#date_options input:checked")?.[0]?.click(),SwiftypeComponents.stores.search.parameter.trigger("arguments_changed"))})),jQuery("#swiftype-from").val()&&jQuery("#swiftype-to").val())return new Date(jQuery("#swiftype-from").val()).toISOString()},to:function(){if(jQuery("#swiftype-to").val()&&jQuery("#swiftype-from").val())return new Date(jQuery("#swiftype-to").val()).toISOString()}},update_results:!1,reset_pagination:!0}]}),0<SwiftypeConfigs.author_list.length&&(SwiftypeComponents.config.author_facet.filter=function(author){return 0<=SwiftypeConfigs.author_list.indexOf(author.name)}),"object"==typeof SwiftypeConfigs.custom_facet_settings){for(var facet in SwiftypeConfigs.custom_facet_settings)SwiftypeConfigs.custom_facet_settings[facet].filter=function(item){var facet_name;return!!SwiftypeComponents.issetRecursive(SwiftypeConfigs,"custom_facet_settings."+facet+".facet_name")&&(facet_name=SwiftypeConfigs.custom_facet_settings[facet].facet_name,item=item.name,SwiftypeComponents.issetRecursive(SwiftypeConfigs,"date_filters."+facet_name)&&(item=SwiftypeComponents.config.filter_allowed_facet_items(item,facet_name),item=SwiftypeComponents.config.filter_disallowed_facet_items(item,facet_name)),item)};jQuery.extend(SwiftypeComponents.config,SwiftypeConfigs.custom_facet_settings)}var st_tags,st_articles;SwiftypeConfigs.autocomplete.tags.include&&(st_tags={store_name:"autocomplete",title:SwiftypeConfigs.autocomplete.tags.name,template_id:"ac_tag",onComplete:function(result,url){window.location=result.url},preprocess:function(results){var tags=[],lodash=SwiftypeComponents._();return lodash.each(results,function(result){tags=tags.concat(result.tags)}),tags=lodash.chain(tags).filter(function(tag){return!(void 0===tag||"undefined"===tag)}).countBy().pairs().sortBy(1).reverse().take(4).value(),lodash.map(tags,function(tag){return{name:tag[0],url:SwiftypeConfigs.home_url+"tag/"+tag[0]}})}},SwiftypeComponents.config.search_form.autocomplete.sections.push(st_tags),SwiftypeComponents.config.small_search_form.autocomplete.sections.push(st_tags),SwiftypeComponents.config.menu_search_form.autocomplete.sections.push(st_tags),jQuery("#swiftype-search-widget, #swiftype-search-result").on("click",".ac_tag",function(e){e.preventDefault(),e.stopPropagation();var e=jQuery(this).find("a"),default_url=e.attr("href"),name=e.html();jQuery.get("/wp-json/wp/v2/tags?search="+name,function(data){Array.isArray(data)||(window.location=default_url);for(var i=0;i<data.length;i++){var tag=data[i];if(name===tag.name)return void(window.location=tag.link)}window.location=default_url})})),SwiftypeConfigs.autocomplete.articles.include&&(st_articles={store_name:"autocomplete",title:SwiftypeConfigs.autocomplete.articles.name,template_id:"ac_article",preprocess:function(results){return"object"==typeof window.pmc&&"function"==typeof window.pmc.proxy_url&&window.pmc.is_proxied()&&SwiftypeComponents._().each(results,function(result){result.url=window.pmc.proxy_url(result.url,!0)}),results}},SwiftypeComponents.config.search_form.autocomplete.sections.push(st_articles),SwiftypeComponents.config.small_search_form.autocomplete.sections.push(st_articles),SwiftypeComponents.config.menu_search_form.autocomplete.sections.push(st_articles)),SwiftypeComponents.debug.setLevel(0),SwiftypeComponents.onReady(function(){var pageview_event_attached=!1,value=("object"==typeof window.pmc&&"function"==typeof window.pmc.proxy_url&&window.pmc.is_proxied()&&(SwiftypeComponents.stores.search.result.on("search_query_success",function(){SwiftypeComponents._().each(SwiftypeComponents.stores.search.result.records(),function(result){result.url=window.pmc.proxy_url(result.url,!0)})}),SwiftypeConfigs.home_url=window.pmc.proxy_url(SwiftypeConfigs.home_url,!0)),SwiftypeComponents.react.mountAll(),window.location.hash.substr(2));if(value)for(var value_array_amp=value.split("&"),i=0;i<value_array_amp.length;i++){var value_array_eq=value_array_amp[i].split("=");if(value_array_eq&&"q"===value_array_eq[0]&&void 0!==value_array_eq[1]){SwiftypeConfigs.q=value_array_eq[1];break}}null!==document.getElementById("st-search-form-input")&&(document.getElementById("st-search-form-input").value=decodeURIComponent(SwiftypeConfigs.q)),SwiftypeComponents.stores.search.parameter.on("arguments_changed",function(){document.body.scrollTop=0,pageview_event_attached||(pageview_event_attached=!0,SwiftypeComponents.stores.search.result.on("search_query_success",function(){var current_search_url=window.location.href.replace("#","");try{"object"==typeof window.pmc&&"function"==typeof window.pmc.reverse_proxy_url&&window.pmc.is_proxied()&&(current_search_url=window.pmc.reverse_proxy_url(current_search_url)),window.pmc=window.pmc||{},window.pmc.analytics=window.pmc.analytics||[],window.pmc.analytics.push(function(){window.pmc.analytics.track_pageview(location.pathname+location.hash)}),"undefined"!=typeof _gaq&&_gaq.push(["_trackPageview",current_search_url]),"undefined"!=typeof jQuery&&jQuery.event.trigger({type:"pmc-track-pageview",url:current_search_url})}catch(ignore){}}))})}),Liquid.registerFilters({unescape:function(input){for(var input=String(input),tags=["b","strong","em","i","span"],i=0;i<tags.length;i++)input=input.replace(new RegExp("&lt;"+tags[i]+"( .[^&gt;]*)?&gt;","gim"),"<"+tags[i]+">").replace(new RegExp("&lt;&#x2F;"+tags[i]+"&gt;","gim"),"</"+tags[i]+">");return input},pp_array:function(collection){return SwiftypeComponents._().isArray(collection)?collection.join(", "):collection}}),jQuery("#swiftype-search-result").on("click","[data-st-previous-page] a, [data-st-next-page] a, [data-st-pagination-range] a",function(){document.getElementById("swiftype-search-result").scrollIntoView()});