!function($){window.blogherads=window.blogherads||{},window.blogherads.adq=window.blogherads.adq||[],window.pmc=window.pmc||{},window.pmc.analytics=window.pmc.analytics||[],window.pmc_ga_event_tracking="object"==typeof window.pmc_ga_event_tracking?window.pmc_ga_event_tracking:{};var device=window.pmc_ga_event_tracking.device||"[D]",events=window.pmc_ga_event_tracking.events||[],pmc_analytics=(window.pmc.event_tracking=function($element,action,category,label,details,url,nonInteraction,pre_events,event_value){var custom_ga_data="",href="",labelDetails="",custom_ga_data;pre_events=pre_events||[];try{(custom_ga_data=$element.attr("custom-ga-data"))&&(custom_ga_data=JSON.parse(custom_ga_data),Object.entries(custom_ga_data).forEach(function(entry){var key=entry[0],value=entry[1];if(value)switch(value=window.pmc.replace_wild_card($element,value),key){case"category":void 0!==category&&category||(category=value);break;case"details":void 0!==details&&details||(details=value);break;case"label":void 0!==label&&label||(label=value);break;case"product":window.pmc.maybe_load_ga_plugin("ec"),window.pmc.maybe_set_ga_pre_events(pre_events,["ec:addProduct",value,1]),window.pmc.maybe_set_ga_pre_events(pre_events,["ec:setAction","click",{list:"article"}]);break;case"url":void 0!==url&&url||(url=value);break;default:window.pmc.maybe_set_ga_property(key,value)}}))}catch(e){console.log("Custom Tracking Event Error: "+e)}details&&(labelDetails=(labelDetails="string"==typeof details?details:$.trim($element.text()).replace(/(\r?\n|\r)/gm," ").replace(/\s{2,}/g," ")).length?" ("+(labelDetails=labelDetails.substring(0,15))+")":""),label=void 0===label||pmc.is_empty(label)?apply_filters("pmc-google-analytics-tracking-label","",$element):window.pmc.replace_wild_card($element,label),url&&(href="string"==typeof url&&url.length?" "+url:"string"==typeof(href=$element.attr("href"))&&href.length?2===(href=href.split(/\/\/(.+)?/,2)).length?" "+href[1]:" "+href[0]:""),category=window.pmc.replace_wild_card($element,category),pre_events=pre_events&&window.pmc.replace_wild_card($element,pre_events),"click"===action&&(custom_ga_data=window.pmc.get_ga_mapped_data("page-type"))&&"article"===custom_ga_data.value&&(window.pmc.maybe_set_ga_property("id",!0),window.pmc.maybe_set_ga_property("location",!0));var custom_ga_data={hitType:"event",eventCategory:category,eventAction:action,eventLabel:device+" "+label+labelDetails+href,nonInteraction:!!nonInteraction},nonInteraction={eventCategory:category,eventAction:action,eventLabel:device+" "+label+labelDetails+href};"number"==typeof event_value&&(custom_ga_data.eventValue=event_value,nonInteraction.eventValue=event_value);try{if(pre_events&&pre_events.length)for(var i in pre_events)ga.apply(this,pre_events[i]);custom_ga_data=apply_filters("pmc-google-analytics-tracking-events",custom_ga_data,$element),nonInteraction.eventCategory=String((custom_ga_data?.eventCategory?custom_ga_data:nonInteraction).eventCategory).substring(0,99),nonInteraction.eventAction=String((custom_ga_data?.eventAction?custom_ga_data:nonInteraction).eventAction).substring(0,99),nonInteraction.eventLabel=String((custom_ga_data?.eventLabel?custom_ga_data:nonInteraction).eventLabel).substring(0,99),nonInteraction.eventValue=String((custom_ga_data?.eventValue?custom_ga_data:nonInteraction).eventValue).substring(0,99);var ga4EventName=String(nonInteraction.eventCategory+"-"+nonInteraction.eventAction).substring(0,39);ga("send",custom_ga_data),gtag("event",ga4EventName,nonInteraction)}catch(err){console.log("Event Tracking Error: "+err)}return custom_ga_data},$.fn.eventTracking=function(atts){var selector,contentConsumed,pageOpenedTime,action,category,details,iframe,label,nonInteraction,pre_events,url;this&&"object"==typeof atts&&(selector=this.selector||atts.selector,contentConsumed=!1,pageOpenedTime=(new Date).getTime(),action=atts.action||"click",category=atts.category||"",details=atts.details||!1,iframe=atts.iframe||!1,label=atts.label||"",nonInteraction=atts.nonInteraction||!1,pre_events=atts.pre_events||[],url=atts.url||!1,iframe?"string"==typeof iframe&&$(iframe).load(function(){$(iframe).contents().on(action,selector,function(e){e.stopPropagation(),window.pmc.event_tracking($(this),action,category,label,details,url,nonInteraction,pre_events)})}):"inview"===action?$(selector).each(function(){var self=this;$(this).one("inview",function(event,isInView){var inview_element=this;isInView&&window.pmc.event_tracking($(this),action,category,label,details,url,nonInteraction,pre_events)})}):"content-consumed"===action?$(document).scroll(_.debounce(function(e){var currentTime;$(selector).is(":pmc-inview")&&!contentConsumed&&3e3<=(new Date).getTime()-pageOpenedTime&&(e.stopPropagation(),window.pmc.event_tracking($(this),action,category,label,details,url,nonInteraction,pre_events),contentConsumed=!0)},300)):"dfp-ad-clicks"===action?"undefined"!=typeof googletag&&googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(event){var slot_name=event.slot.getName(),$ad_iframe=$('iframe[id*="'+slot_name+'"]'),$ad_iframe_container=$ad_iframe.parents(".admz"),_event=event;$ad_iframe.contents().find("body a").each(function(){$(this).click(function(){for(var ad_url=$(this).attr("href").split("?")[1].split("&"),i=0;i<ad_url.length;i++){var kv=ad_url[i].split("=");if("adurl"===kv[0]){ad_url=decodeURIComponent(kv[1]);break}}action="click",category="DFP Ad Click",label={location:$ad_iframe_container.attr("id"),oid:_event.campaignId,liid:_event.lineItemId,cid:_event.creativeId,to_url:ad_url},window.pmc&&window.pmc.hooks&&window.pmc.hooks.apply_filters&&(label=window.pmc.hooks.apply_filters("pmc-google-universal-analytics-dfp-event-label-array",label,$ad_iframe.contents(),slot_name,_event)),label=window.JSON.stringify(label),window.pmc.event_tracking($(this),action,category,label,details,url,nonInteraction,pre_events),window.pmc&&window.pmc.hooks&&window.pmc.hooks.do_action&&window.pmc.hooks.do_action("pmc-google-universal-analytics-dfp-ad-clicks-pre-events",pre_events,ad_url)})})})}):$(document).on(action,selector,function(e){e.stopPropagation(),window.pmc.event_tracking($(this),action,category,label,details,url,nonInteraction,pre_events)}))},window.pmc.maybe_load_ga_plugin=function(plugin){window.pmc.ga_plugin_loaded=window.pmc.ga_plugin_loaded||{},window.pmc.ga_plugin_loaded[plugin]||(ga("require",plugin),window.pmc.ga_plugin_loaded[plugin]=!0)},window.pmc.maybe_set_ga_property=function(key,value){if(value)try{var data=window.pmc.get_ga_mapped_data(key),old_value;"boolean"==typeof value&&(value=value&&(!(!data||!data.value)&&data.value)),data&&data.key&&value&&(old_value=void 0,(old_value=window.pmc.ga_tracker_instance?window.pmc.ga_tracker_instance.get(data.key):old_value)!=value)&&value&&ga("set",data.key,value)}catch(err){console.log("maybe_set_ga_property Error: "+err)}},window.pmc.maybe_merge_fields=function(data,merge_with){try{merge_with&&"object"==typeof merge_with&&Object.entries(merge_with).forEach(function(entry){var key=entry[0],entry=entry[1];!data[key]&&entry?data[key]=entry:"object"==typeof data[key]&&"object"==typeof entry&&(data[key]=window.pmc.maybe_merge_fields(data[key],entry))})}catch(e){console.log("Error: maybe_merge_fields - "+e)}return data},window.pmc.maybe_set_ga_pre_events=function(pre_events,data){try{for(var i in pre_events){var event=pre_events[i];if(event[0]===data[0])switch(event[0]){case"ec:addProduct":case"ec:setAction":return pre_events[i][1]=window.pmc.maybe_merge_fields(pre_events[i][1],data[1]),pre_events}}pre_events.push(data)}catch(e){console.log("Error: maybe_set_ga_pre_events - "+e)}return pre_events},window.pmc.get_ga_mapped_data=function(key){var dimension=!1,value=!1,utms;return"location"===key?{key:key,value:value=(value=(value=pmc&&pmc.tracking&&""!==(utms=pmc.tracking.get_properties_string())?window.location.href.split("#")[0]+(window.location.search?"&":"?")+utms:value)||((query=document.querySelector("link[rel='canonical']"))?query.href:value))||document.location.href}:(key.match(/^dimension\d+/)?dimension=key:window.pmc_ga_mapped_dimensions&&window.pmc_ga_mapped_dimensions[key]&&(dimension="dimension"+window.pmc_ga_mapped_dimensions[key]),!!dimension&&{key:dimension,value:value=window.pmc_ga_dimensions&&window.pmc_ga_dimensions[dimension]?window.pmc_ga_dimensions[dimension]:value})},window.pmc.replace_wild_card=function($selector,event_attr){if(null!==event_attr){if(event_attr instanceof Array){var attributes=[],i;for(i in event_attr)attributes[i]=window.pmc.replace_wild_card($selector,event_attr[i]);return attributes}var attributes,regex;if("object"==typeof event_attr)return attributes={},Object.keys(event_attr).forEach(function(key){attributes[key]=window.pmc.replace_wild_card($selector,event_attr[key])}),attributes;if("string"==typeof event_attr&&null!==(data_attr=/%=(.*)=%/.exec(event_attr))){var attr=$selector.attr(data_attr[1]);if(void 0!==attr&&!1!==attr&&""!==attr)return attr;var match=data_attr[1].match(/^ga-map-(key|value)-(.+)/);if(match){if(attr=window.pmc.get_ga_mapped_data(match[2]))switch(match[1]){case"key":if(attr.key)return attr.key;break;case"value":if(attr.value)return attr.value}}else if((attr=window.pmc.get_ga_mapped_data(data_attr[1]))&&attr.value)return attr.value}}return event_attr},{push:function(cmd){if("function"==typeof cmd)try{cmd()}catch(e){}},track_pageview:function(url){var pvuuid=pmc.generate_pvuuid(!0),sendVirtualPageview=()=>{var activeConsentGroups,ga3Dimensions,activeConsentGroups,pvuuid_dim;getGA3Dimensions&&getGA4Dimensions&&(activeConsentGroups=window.pmc_onetrust_helpers?.getActiveConsentGroups?.()||[],ga3Dimensions=getGA3Dimensions(activeConsentGroups),activeConsentGroups=getGA4Dimensions(activeConsentGroups),"undefined"!=typeof pmc_ga_mapped_dimensions&&"undefined"!=typeof pmc_ga_dimensions&&pmc_ga_mapped_dimensions["pageview-id"]&&(ga3Dimensions[pvuuid_dim="dimension"+pmc_ga_mapped_dimensions["pageview-id"].toString()]=pvuuid,pmcGaCustomDimensions[pvuuid_dim]=pvuuid,ga("set",ga3Dimensions)),ga("send","pageview",url),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"VirtualPageView","pageview-type":"virtual_page","pageview-id":pvuuid,...activeConsentGroups}))};window.pmcGATriggered?sendVirtualPageview():pmc.hooks.add_action("pmc_ga_triggered",sendVirtualPageview),blogherads.adq.push(function(){try{blogherads.setPageMetaData(window.pmc_fpd||{}),blogherads.trackPageView(!0)}catch(e){}})}}),pmc_analytics_queues=(pmc.hooks.add_filter("pmc_event_tracking_social_data",function(socialEvent,socialNetwork){if(events.length<=0||null===socialNetwork)return null;var socialNetwork=socialNetwork.toLowerCase(),selector="pinit"===socialNetwork?".btn-pinterest":".btn-"+socialNetwork,index=null,socialNetwork;if(null===socialEvent)for(var i=0;i<events.length;i++)if(events[i].selector===selector){index=i;break}return socialEvent=null!==index?{hitType:"event",eventCategory:(socialNetwork=events[index]).category,eventAction:socialNetwork.action,eventLabel:device+" "+socialNetwork.label,nonInteraction:socialNetwork.nonInteraction}:socialEvent}),window.pmc.ga_tracker_instance||"function"==typeof ga&&ga(function(tracker){window.pmc.ga_tracker_instance=tracker}),pmc.analytics);pmc.analytics=pmc_analytics,pmc_analytics_queues&&Array.isArray(pmc_analytics_queues)&&pmc_analytics_queues.length&&pmc_analytics_queues.forEach(function(cmd){pmc_analytics.push(cmd)});for(var i=0;i<events.length;i++)try{var e=events[i];$(e.selector).eventTracking(e)}catch(err){console.log("Event Tracking Error: "+err)}}(jQuery);