(()=>{"use strict";const t=window;t.pmc=t.pmc||{};const e=()=>t.pmc;class o{init(){const t=e();this.fetchAtlasId().then((t=>{t?.value&&(this.value=t.value)})).then((()=>{t?.hooks?.do_action("pmc_fpc_data_ready")}))}async fetchAtlasId(){let t=null;"undefined"!=typeof pmcFirstPartyCookie&&(t=pmcFirstPartyCookie.endpoint??null);try{const e=await fetch(t,{credentials:"include"});if(void 0!==e.ok&&!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(t){return null}}}window.pmc_fpc_consent=new class{hookIntoOneTrust(){window.pmc.hooks.add_action("pmc_onetrust_consent_data_ready",this.determineFpcMode.bind(this))}determineFpcMode({groupsConsentedTo:t}){0<t.length&&(-1!==t.indexOf("C0002")?this.setFpcMode(!0):this.setFpcMode(!1))}setFpcMode(t){if(!1===t){window.pmc_fpc=new o,window.pmc_fpc.deleteCookie(window.pmc_fpc.getName());const t=e();t?.hooks?.do_action("pmc_fpc_data_ready"),console.log("pmc_fpc_data_ready (3)")}else window.pmc_fpc=new o,window.pmc_fpc.init()}},window.pmc_fpc_consent.hookIntoOneTrust()})();